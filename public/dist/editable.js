!function(t){function e(e){for(var i,a,r=e[0],u=e[1],l=e[2],h=0,d=[];h<r.length;h++)a=r[h],o[a]&&d.push(o[a][0]),o[a]=0;for(i in u)Object.prototype.hasOwnProperty.call(u,i)&&(t[i]=u[i]);for(c&&c(e);d.length;)d.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],i=!0,r=1;r<n.length;r++){var u=n[r];0!==o[u]&&(i=!1)}i&&(s.splice(e--,1),t=a(a.s=n[0]))}return t}var i={},o={15:0},s=[];function a(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=i,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)a.d(n,i,function(e){return t[e]}.bind(null,i));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="";var r=window.webpackJsonp=window.webpackJsonp||[],u=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var c=u;s.push([8,0]),n()}({8:function(t,e,n){"use strict";(function(t){var e=o(n(17)),i=o(n(11));function o(t){return t&&t.__esModule?t:{default:t}}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var a={type:"text",url:"/",mask:"",onKeypress:null,onSuccess:null,onError:null},r=function(){function n(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.element=e,this.options=t.extend({},a,i),this.init()}return function(t,e,n){e&&s(t.prototype,e),n&&s(t,n)}(n,[{key:"init",value:function(){this.createForm(),this.createInputMask(),this.createEvents()}},{key:"createForm",value:function(){this.form=t("<form />").addClass("mp-editable"),this.input=t("<input />").attr("type",this.options.type).attr("required",!0).addClass("mp-editable__input");var e=t("<i />").addClass("mp-icon icon-close").addClass("mp-text-c-gray mp-text-fs-medium");this.cancel=t("<button />").attr("type","button").addClass("mp-editable__cancel").append(e);var n=t("<i />").addClass("mp-icon icon-check").addClass("mp-text-c-primary mp-text-fs-medium");this.submit=t("<button />").attr("type","submit").addClass("mp-editable__submit").append(n),this.loading=t("<span />").addClass("mp-editable__loading"),this.form.append(this.input,this.submit,this.cancel),this.element.after(this.loading,this.form);var i=t.trim(this.element.text());this.element.text(i),this.input.val(i),this.form.hide(),this.loading.hide()}},{key:"createEvents",value:function(){var t=this;this.element.on("click",function(){t.showForm(),t.resetInput()}),this.form.on("submit",function(e){e.preventDefault(),t.submitForm()}),this.cancel.on("click",this.hideForm.bind(this))}},{key:"createInputMask",value:function(){var t=this,e=this.input.get(0);this.options.mask&&(0,i.default)({mask:this.options.mask,oncomplete:function(){e.setCustomValidity("")},onincomplete:function(){e.setCustomValidity("Please provide a valid value.")}}).mask(e),this.options.onKeypress&&e.addEventListener("keypress",function(n){t.options.onKeypress(n,e)})}},{key:"resetInput",value:function(){this.input.val(this.element.text()).focus()}},{key:"showForm",value:function(){this.element.hide(),this.form.show()}},{key:"hideForm",value:function(){this.element.show(),this.form.hide()}},{key:"showLoading",value:function(){this.element.hide(),this.form.hide(),this.loading.show()}},{key:"hideLoading",value:function(){this.element.show(),this.form.hide(),this.loading.hide()}},{key:"submitForm",value:function(){var t=this;if(this.form.get(0).checkValidity())if(this.element.text()!==this.input.val()){this.showLoading();var n=new FormData,o=this.options.mask?i.default.unmask(this.input.val(),{mask:this.options.mask}):this.input.val();n.set(this.element.attr("id"),o),e.default.post(this.options.url,n).then(function(e){if(200===e.status){var n=e.data,o=t.options.mask?i.default.format(n[t.element.attr("id")],t.options.mask):n[t.element.attr("id")];t.element.text(o),t.options.onSuccess&&t.options.onSuccess(n)}t.hideLoading()}).catch(function(e){var n=e.response.data,i=n.error?n.error:"An error occurred. Please try again.";t.options.onError&&t.options.onError(i),t.hideLoading()})}else this.hideForm()}}]),n}();t.fn.editable=function(e){var n=this;return this.filter("a").each(function(){t.data(n,"editable")||t.data(n,"editable",new r(n,e))})}}).call(this,n(0))}});